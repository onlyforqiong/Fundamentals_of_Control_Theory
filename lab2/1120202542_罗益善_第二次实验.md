# 第二次实验
## 实验目的
  1.学习和掌握利用 MATLAB进行系统时域响应求解和仿真的方法。
  2.考察二阶系统的时间响应，研究二阶系统参数对系统暂态特性的影响。
## 实验原理
- 系统的暂态性能指标
  - 控制系统的暂态性能指标通常以一组时域量值的形式给出，这些指标通常根据系统的单位阶跃响应给出定义。常见的指标包括：
    1.延迟时间 td：响应曲线首次到达稳态值的50%所需的时间。
    2.上升时间 tr：响应曲线从稳态值的10%上升到90%所需要的时间，对于欠阻尼系统，指响应曲线首次到达稳态值所需的时间。
    3.峰值时间 tp：响应曲线第一次到达最大值的时间。
    4.调整时间 ts：响应曲线开始进入并保持在允许的误差(±2%或±5%)范围内所需要的时间。
    5.超调量：响应曲线的最大值和稳态值之差，通常用百分比表示。即(ymax - yss)/yss。
  - 在 MATLAB 中求取单位阶跃响应的函数为 step，可以使用不同的调用格式来绘制响应曲线或返回响应的数值向量及其对应的时间向量。在响应曲线上用鼠标读取关键点或通过搜索曲线对应的数值向量中关键点来确定系统的暂态性能指标。
- LTI Viewer工具
  - 在 MATLAB 中提供了线性时不变系统仿真的工具 LTI Viewer，可以方便地观察系统的响应曲线和性能指标。在命令窗口中键入 ltiview 即可启动 LTI Viewer。LTI Viewer 工具界面主要包括以下部分：
    - 系统输入、输出信号的绘图区域
    - 显示系统的单位阶跃响应曲线和暂态性能指标的区域
    - 显示系统的频率响应曲线和稳态性能指标的区域
  - 在 LTI Viewer 工具中，可以通过拖拽系统图标、添加信号源、修改系统参数等方式来构建和调整系统模型。同时，可以使用工具栏上的按钮来控制仿真的开始、暂停、继续和停止。在仿真过程中，LTI Viewer 会实时更新系统的响应曲线和性能指标，方便用户观察和分析系统的动态特性。
## lab2
```matlab

% 已知前向通路传递函数 G(s) = 8/(s^2 + 2s)
num = [8];
den = [1 2 0];
G = tf(num, den);
% 求解闭环传递函数
Gc = feedback(G, 1);
% 绘制单位阶跃响应曲线
step(Gc);
% 求解暂态性能指标
stepinfo(Gc)

```
### 结果
![结果1](./picture/lab1_1.png "lab1-1结果")
 
## lab2
```matlab
% 建立传递函数模型
num = [2 18  40];
den = [1 5  8 6];
G = tf(num, den)

% 建立零极点增益模型
[z, p, k] = tf2zp(num, den)

% 建立状态空间方程模型
[A, B, C, D] = tf2ss(num, den)

% 绘制零极点图
pzmap(G)
```
### 结果
![结果1](./picture/lab1_2.png "lab1-2结果")

## lab3
```matlab
% 建立传递函数模型
G1 = tf([2 6 5], [1 4 5 2])
G2 = tf([1 4 1], [1 9 8 0])
G3 = zpk([-3,-7], [-1,-4,-6], 5)
sys_tf = series(series(G1, G2), G3)

% 输出总传递函数
sys_tf
```
### 结果
```matlab
sys_tf =
 
  10 (s+3) (s+3.732) (s+7) (s+0.2679) (s^2 + 3s + 2.5)
  ----------------------------------------------------
           s (s+1)^4 (s+2) (s+4) (s+6) (s+8)
```
## lab4
```matlab
% 建立传递函数模型
G1 = tf([1], [1 1])
G2 = tf([1], [0.5 1])
G3 = tf([3],[1])

sys_par = parallel(G1, G2);
sys_ser = series(sys_par, G3);
G = sys_ser;
H = tf([1], [0.5 1]);
sys_cl = feedback(G, H)
```
### 结果
```matlab
sys_cl =
 
       2.25 s^2 + 7.5 s + 6
  -------------------------------
  0.25 s^3 + 1.25 s^2 + 6.5 s + 7
```
## lab5
```matlab
G1 = tf([2],[1,1,0])
H1 = zpk([-3],[-2],1)
sys1 = feedback(G1, H1,1)
G2 = tf([10],[1,1])
G = series(G2,sys1)
H = tf([5,0],[1,6,8])
sys = feedback(G,H)
```
### 结果
```matlab
sys =
 
                         20 (s+2)^2 (s+4)
  --------------------------------------------------------------
  (s+2) (s-0.3234) (s^2 - 0.6067s + 3.089) (s^2 + 8.93s + 24.02)
```
## 收获和体会
- chatgpt真好用
- 学到了使用matlab进行系统建模